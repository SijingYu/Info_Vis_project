<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualization</title>
    <link rel="icon" type="image/png" href="chart-icon-color.png">
    <link rel="stylesheet" href="styles/bootstrap.min.css">
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
        crossorigin="anonymous">
</head>

<body class="container py-4">
    <h3 class="mb-0 mx-2">Electric Power Sector Energy Consumption</h3>
    <div id="stacked-bar" class="mx-0 my-0"></div>
    <!-- <div class="mt-3 text-right col-lg-11"> -->
    </div>

    <div class="mx-auto col-12 text-center">
        <h5 class="mt-5 mb-0">Electric power sector energy use decomposition</h5>
        <div id="pie" class="mt-4 mb-0"></div>
        <div class="legend-pie col-12 mb-2">
            <div class="d-inline"><i class="fas fa-circle strongly-like"></i> Coal</div>
            <div class="d-inline mx-3"><i class="fas fa-circle like"></i> Natural Gas</div>
            <div class="d-md-inline">
                <div class="d-inline mr-3"><i class="fas fa-circle dislike"></i> Petroleum</div>
                <div class="d-inline mr-3"><i class="fas fa-circle strongly-dislike"></i> Nuclear Electric Power</div>
                <div class="d-inline"> <i class="fas fa-circle unsure"></i> Renewable Energy</div>
            </div>
        </div>
    </div>

    <div class="buttons text-center col-12 mt-1">
        <button id="group1" class="btn btn-secondary my-1 col-4 col-md-3 col-lg-2">2020</button>
        <button id="group2" class="btn btn-secondary my-1 col-4 col-md-3 col-lg-2">2010</button>
        <button id="group3" class="btn btn-secondary my-1 col-4 col-md-3 col-lg-2">2000</button>
        <button id="group4" class="btn btn-secondary my-1 col-4 col-md-3 col-lg-2">1990</button>
        <button id="group5" class="btn btn-secondary my-1 col-4 col-md-3 col-lg-2">1980</button>
    </div>

    <h5 class="mt-4 mb-4">Carbon Dioxide Emissions</h5>
    <div id="bubble" class="mx-0 my-0"></div>
    <!-- <div id="bubble2" class="mx-1 my-0"></div> -->


    <div class="mx-sm-auto mx-0 col-lg-6 col-12 text-center px-0">
        <h5 class="mt-4 mb-4">Carbon Dioxide Emissions Decomposition</h5>
        <div id="donut" class="mx-0 px-0 col-12 mb-1"></div>
    </div>
    <div class="buttons text-center col-12 mt-3">
        <button id="id1" class="btn btn-secondary my-1 col-12 col-md-4 col-lg-3">1980</button>
        <button id="id2" class="btn btn-secondary my-1 col-12 col-md-4 col-lg-3">1990</button>
        <button id="id3" class="btn btn-secondary my-1 col-12 col-md-4 col-lg-3">2000</button>
        <button id="id4" class="btn btn-secondary my-1 col-12 col-md-4 col-lg-3">2010</button>
        <button id="id5" class="btn btn-secondary my-1 col-12 col-md-4 col-lg-3">2020</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.6.0/d3.min.js"></script>
    <script src="barChart.js"></script>
    <script src="bubbleChart.js"></script>
    <script src="donutChart.js"></script>
    <script src="pieChart.js"></script>
    <script src="scatterPlot.js"></script>
   
    <div id="tooltip"></div>
    <svg width="960" height="600" id="statesvg"></svg>
    <script src="uStates.js"></script> 
    <script src="http://d3js.org/d3.v3.min.js"></script>
     
    <script>
        function tooltipHtml(n, d){	/* function to create html content string in tooltip div. */
            return "<h4>"+n+"</h4><table>"+
                "<tr><td>Consumption: </td><td>"+(d.consump)+"</td></tr>"
                "</table>";
        }
        
        var sampleData ={};	/* Sample random data. */	
        ["HI", "AK", "FL", "SC", "GA", "AL", "NC", "TN", "RI", "CT", "MA",
        "ME", "NH", "VT", "NY", "NJ", "PA", "DE", "MD", "WV", "KY", "OH", 
        "MI", "WY", "MT", "ID", "WA", "DC", "TX", "CA", "AZ", "NV", "UT", 
        "CO", "NM", "OR", "ND", "SD", "NE", "IA", "MS", "IN", "IL", "MN", 
        "WI", "MO", "AR", "OK", "KS", "LS", "VA"]
            .forEach(function(d,i){ 
                var consump = 0;
                var all_consump = [2993, 444725, 1622717, 350839, 784466, 766838, 720007, 426738,
            98416, 297253, 423512, 58994, 58135, 13481, 1356629, 727341, 1862795, 85811, 301062,
            263187, 386001, 1325562, 1022598, 163405, 88771, 139855, 354826, 29182, 4875735, 2056267,
            454497, 290730, 273938, 503514, 291371, 279264, 188102, 93650, 186760, 431332, 602036, 873561,
            1157550, 523604, 579624, 306590, 387849, 760571, 307551, 1959688, 646591];
                
            sampleData[d]={consump:all_consump[i], color:d3.interpolate("rgb(198, 219, 239)", "rgb(49, 130, 189)")(all_consump[i]/2000000)}; 
            });
        
        /* draw states on id #statesvg */	
        uStates.draw("#statesvg", sampleData, tooltipHtml);
        
        d3.select(self.frameElement).style("height", "600px"); 
    </script>

</body>
</html>